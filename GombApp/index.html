<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Alumni+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="sass/style.css">
    <script type="module" src="scripts/login.js"></script>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Theme color for Android -->
    <meta name="theme-color" content="#102135">
    
    <!-- Apple iOS specific meta tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="GombApp">
    <link rel="apple-touch-icon" href="appImages/ios/192.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="appImages/android/android-launchericon-192-192.png">
    
    <title>GombApp Menu</title>
</head>
<body style="display: grid;">
    <header>
        <div class="header-content">
            <h1 class="app-title">GombApp</h1>
        </div>
        <div class="message-content" id="message-content" style="display: none;">
            <button class="login-button" id="login-button">Bejelentkezés</button>
            <div class="loader" id="loader" style="display: none;"></div>
            <span class="logged-in-message" id="logged-in-message" style="display: none;">Be vagy jelentkezve!</span>
            <button class="logout-button" id="logout-button" style="display: none;">Kijelentkezés</button>
        </div>
        <div class="message-content" style="margin-top: 10px;">
            <div class="loader" id="loader2"></div>
        </div>
    </header>
    <main>
        <div id="login-form" class="login-form" style="display: none;">
            <form id="nameForm" class="name-form">
                <div id="login-fields" class="login-fields">
                    <input class="email-field" type="email" id="email" placeholder="E-mail cím" name="email" required>
                    <input class="pw-field" type="password" id="password" placeholder="Jelszó" name="password" required>
                    <div class="loginform-buttons" id="buttons">
                        <button id="cancel-button" class="cancel-button" type="button">Mégse</button>
                        <button id="submit-button" class="submit-button" type="submit">Belépés</button>    
                    </div>
                    <button id="forgot-password" class="text-button" type="button">Elfelejtettem a jelszavam.</button>
                </div>

                <div id="forgot-password-fields" class="forgot-password-fields" style="display: none;">
                    <p class="reset-description">
                        Add meg az e-mail-címedet, és elküldünk neked egy hivatkozást, amellyel visszajuthatsz a fiókodba.
                    </p>
                    <input class="email-field" type="email" id="reset-email" placeholder="E-mail cím" name="reset-email" required>
                    <div class="loginform-buttons">
                        <button id="back-to-login" class="cancel-button" type="button">Vissza</button>
                        <button id="send-link-button" class="submit-button" type="button">Hivatkozás küldése</button>
                    </div>
                </div>
            </form>
        </div>
        <div class="menu adjust">
            <button id="admin" class="button">
                <img src="images/adminpic.png" alt="Admin" class="profile-pic"/>
                Admin
            </button>
            <button id="bartender" class="button">
                <img src="images/bartenderprofilepic.png" alt="Pultos" class="profile-pic"/>
                Pultos
            </button>
            <button id="programs" class="button">
                <img src="images/calendar.png" alt="Programok" class="profile-pic"/>
                Programok
            </button>
            <button id="ticket-clerk" class="button">
                <img src="images/ticketclerk.png" alt="Jegyárus" class="profile-pic"/>
                Jegyárus
            </button>
        </div>
    </main>
    <footer style="justify-self: center;">
        <p class="footer-text">v1.1.4</p>
    </footer>
    <script src="scripts/indexscripts.js"></script>
    
    <!-- Service Worker Registration -->
    <script>
      // Register service worker
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('./sw.js')
            .then(registration => {
              console.log('ServiceWorker registered:', registration.scope);
            })
            .catch(error => {
              console.log('ServiceWorker registration failed:', error);
            });
        });
      }
    </script>
</body>
</html>